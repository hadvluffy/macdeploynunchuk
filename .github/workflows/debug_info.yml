name: debug_info

on:
  push:
    tags:
    - '*'

  workflow_dispatch:

jobs:
  build:
    runs-on: macos-15

    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install aqt in venv and list ALL Qt versions, modules, architectures
        shell: bash
        run: |
          set -euo pipefail

          VENV_DIR="${{ runner.temp }}/pyvenv_aqt"
          rm -rf "$VENV_DIR"
          python3 -m venv "$VENV_DIR"
          source "$VENV_DIR/bin/activate"

          python -V
          pip install --upgrade pip setuptools wheel
          pip install aqtinstall

          echo "=== aqt executable location ==="
          which aqt || true
          aqt --version || true

          echo ""
          echo "=== ALL Qt versions available (mac desktop) ==="
          aqt list-qt mac desktop || true

          echo ""
          echo "=== ALL Qt versions + modules (including qtwebengine) ==="
          aqt list-qt mac desktop --modules || true

          echo ""
          echo "=== ALL Qt versions + architectures ==="
          aqt list-qt mac desktop --arch || true



